
> nx run api-gateway:test --testPathPattern=cinema.controller.spec

node.exe : [0m[7m[1m[32m PASS 
[39m[22m[27m[0m [0m[7m[37m 
api-gateway [39m[27m[0m [2mapps/api-gatew
ay/src/app/module/user/[22m[1muser.service.
spec.ts[22m
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" 
"C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified:  
   ([0m[7m[1m[3...ce.spec.ts[22m:Strin  
  g) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandE 
   rror
 
[0m[7m[1m[32m PASS [39m[22m[27m[0m 
[0m[7m[37m api-gateway [39m[27m[0m [2m
apps/api-gateway/src/app/module/user/[22m[1
muser.controller.spec.ts[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m 
[0m[7m[37m api-gateway [39m[27m[0m [2m
apps/api-gateway/src/app/module/cinema/servic
e/[22m[1mcinema.service.spec.ts[22m
[1m[31m  [1mâ— [22m[1mCinemaService 
â€º getCinemas â€º should proxy request to 
get all cinemas[39m[22m
    [2mexpect([22m[31mjest.fn()[39m[2m).
[22mtoHaveBeenCalledWith[2m([22m[32m...ex
pected[39m[2m)[22m
    Expected: [32m"cinema.getAll"[39m, 
[32m{"status": "ACTIVE"}[39m
    Received: [2m"cinema.getAll"[22m, 
[31m"ACTIVE"[39m
    Number of calls: [31m1[39m
[2m[22m
[2m    [0m [90m 40 |[39m       
[36mconst[39m result [33m=[39m 
[36mawait[39m service[33m.[39mgetCinemas(
[33mCinemaStatusEnum[39m[33m.[39m[33mACT
IVE[39m)[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 42 
|[39m       expect(clientProxy[33m.[39msen
d)[33m.[39mtoHaveBeenCalledWith([22m
[2m     [90m    |[39m                     
           [31m[1m^[22m[2m[39m[22m
[2m     [90m 43 |[39m         [33mCinemaM
essage[39m[33m.[39m[33mGET_CINEMAS[39m[
33m,[39m[22m
[2m     [90m 44 |[39m         { 
status[33m:[39m [33mCinemaStatusEnum[39m
[33m.[39m[33mACTIVE[39m }[22m
[2m     [90m 45 |[39m       
)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat [22m[2m[0m[36msrc/app/mo
dule/cinema/service/cinema.service.spec.ts[3
9m[0m[2m:42:32[22m[2m[22m
[2m      [2mat fulfilled ([22m[2m../../no
de_modules/tslib/tslib.js[2m:167:62)[22m[2
m[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m 
[0m[7m[37m api-gateway [39m[27m[0m [2m
apps/api-gateway/src/app/module/movie/service
/[22m[1mmovie.service.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m 
[0m[7m[37m api-gateway [39m[27m[0m [2m
apps/api-gateway/src/app/module/cinema/contro
ller/[22m[1mcinema.controller.spec.ts[22m
[0m[7m[1m[32m PASS [39m[22m[27m[0m 
[0m[7m[37m api-gateway [39m[27m[0m [2m
apps/api-gateway/src/app/module/movie/control
ler/[22m[1mmovie.controller.spec.ts[22m
[1mTest Suites: [22m[1m[31m1 
failed[39m[22m, [1m[32m5 
passed[39m[22m, 6 total
[1mTests:       [22m[1m[31m1 
failed[39m[22m, [1m[32m57 
passed[39m[22m, 58 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        4.746 s, estimated 7 s
[2mRan all test suites[22m[2m.[22m



 NX   Running target test for project api-gateway failed

Failed tasks:

- api-gateway:test

Hint: run the command with --verbose for more details.

View structured, searchable error logs at https://nx.app/runs/yqLTMFuVRm

